<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>'REN': Regularization Ensemble for Portfolio Optimization • REN</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="'REN': Regularization Ensemble for Portfolio Optimization">
<meta property="og:description" content="REN">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">REN</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/REN.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>‘REN’: Regularization Ensemble for Portfolio
Optimization</h1>
            
      
      
      <div class="hidden name"><code>REN.Rmd</code></div>

    </div>

    
    
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">REN</span><span class="op">)</span></span></code></pre>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The ‘REN’ package provides tools for robust portfolio optimization
using regularization techniques and ensemble learning methods. It is
designed to generate stable out-of-sample return predictions,
particularly in the presence of strong correlations among assets. The
package includes functions for data preparation, parallel processing,
and portfolio analysis using various methods like Mean-Variance,
James-Stein, LASSO, Ridge Regression, and Equal Weighting.</p>
<p>This vignette will walk you through the main functionalities of the
‘REN’ package, demonstrating how to set up the environment, prepare
data, and perform portfolio optimization.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of the ‘REN’ package from
GitHub:</p>
<pre><code><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"bonsook/REN"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="setting-up-parallel-processing">Setting Up Parallel Processing<a class="anchor" aria-label="anchor" href="#setting-up-parallel-processing"></a>
</h2>
<p>The ‘REN’ package leverages parallel processing to speed up
computation, especially when dealing with large datasets or complex
models. Use the <code>setup_parallel</code> function to set up parallel
processing.</p>
<div class="section level3">
<h3 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h3>
<pre><code><span><span class="co"># Set up parallel processing with the default number of cores or choose a specific number</span></span>
<span><span class="va">cl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/setup_parallel.html">setup_parallel</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="preparing-the-data">Preparing the Data<a class="anchor" aria-label="anchor" href="#preparing-the-data"></a>
</h2>
<p>The <code>prepare_data</code> function is designed to help you
structure your input data appropriately for portfolio optimization. This
function handles various preprocessing steps, making it easier to
analyze the data using the ‘REN’ package.</p>
<div class="section level3">
<h3 id="example-with-ff25-dataset">Example with FF25 Dataset<a class="anchor" aria-label="anchor" href="#example-with-ff25-dataset"></a>
</h3>
<p>In this example, we use the FF25 dataset, which consists of 25
portfolios formed on size and book-to-market ratios. This dataset is
commonly used in financial research to analyze asset pricing models and
portfolio performance. It provides monthly returns of 25 portfolios that
are intersections of five portfolios formed on size and five portfolios
formed on book-to-market equity.</p>
</div>
<div class="section level3">
<h3 id="what-is-the-ff25-dataset">What is the FF25 Dataset?<a class="anchor" aria-label="anchor" href="#what-is-the-ff25-dataset"></a>
</h3>
<p>The FF25 dataset, derived from the Fama-French 25 portfolios, is a
widely-used financial dataset that contains monthly returns of
portfolios formed by sorting stocks into quintiles based on market
capitalization (size) and book-to-market ratios. This data is
instrumental in understanding market efficiency, asset pricing, and
performance analysis across different market segments.</p>
</div>
<div class="section level3">
<h3 id="example-data-preparation">Example Data Preparation<a class="anchor" aria-label="anchor" href="#example-data-preparation"></a>
</h3>
<p>Suppose you have a data frame <code>your_data</code> with asset
returns:</p>
<pre><code><span><span class="co"># Load the dataset (replace with your actual data path)</span></span>
<span><span class="va">ff25</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"data/FF25.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define the date column index, start date, and end date</span></span>
<span><span class="va">date_column_index</span> <span class="op">&lt;-</span> <span class="fl">1</span>  <span class="co"># Update this based on your data</span></span>
<span><span class="va">start_date</span> <span class="op">&lt;-</span> <span class="st">"19990101"</span>  <span class="co"># Adjust as needed</span></span>
<span><span class="va">end_date</span> <span class="op">&lt;-</span> <span class="st">"20231231"</span>  <span class="co"># Adjust as needed</span></span>
<span></span>
<span><span class="co"># Prepare the data for analysis</span></span>
<span><span class="va">data_prep</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prepare_data.html">prepare_data</a></span><span class="op">(</span><span class="va">ff25</span>, <span class="va">date_column_index</span>, <span class="va">start_date</span>, <span class="va">end_date</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">data_prep</span><span class="op">$</span><span class="va">x</span></span>
<span><span class="va">mon</span> <span class="op">&lt;-</span> <span class="va">data_prep</span><span class="op">$</span><span class="va">mon</span></span>
<span><span class="va">count</span> <span class="op">&lt;-</span> <span class="va">data_prep</span><span class="op">$</span><span class="va">count</span></span>
<span><span class="va">Date</span> <span class="op">&lt;-</span> <span class="va">data_prep</span><span class="op">$</span><span class="va">Date</span></span></code></pre>
<p>The <code>prepare_data</code> function processes your data, making it
ready for portfolio optimization.</p>
</div>
</div>
<div class="section level2">
<h2 id="performing-portfolio-analysis">Performing Portfolio Analysis<a class="anchor" aria-label="anchor" href="#performing-portfolio-analysis"></a>
</h2>
<p>The core function of the ‘REN’ package is
<code>perform_analysis</code>, which performs portfolio optimization
using multiple methods, including Mean-Variance (MV), James-Stein (JM),
LASSO, Ridge Regression, and Equal Weighting (EW). The function
calculates various performance metrics such as turnover, Sharpe ratio,
volatility, and maximum drawdown.</p>
<div class="section level3">
<h3 id="example-1">Example<a class="anchor" aria-label="anchor" href="#example-1"></a>
</h3>
<p>Let’s perform portfolio analysis on the prepared data:</p>
<pre><code><span><span class="co"># Perform the portfolio analysis</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/perform_analysis.html">perform_analysis</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">mon</span>, <span class="va">count</span>, <span class="va">Date</span>, <span class="va">num_cores</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Accessing the results</span></span>
<span><span class="va">cumulative_return_plot</span> <span class="op">&lt;-</span> <span class="va">result</span><span class="op">$</span><span class="va">cumulative_return_plot</span></span>
<span><span class="va">turnover_plot</span> <span class="op">&lt;-</span> <span class="va">result</span><span class="op">$</span><span class="va">cumulative_turnover_plot</span></span>
<span><span class="va">turnover_mean</span> <span class="op">&lt;-</span> <span class="va">result</span><span class="op">$</span><span class="va">turnover_mean</span></span>
<span><span class="va">sharpe_ratio</span> <span class="op">&lt;-</span> <span class="va">result</span><span class="op">$</span><span class="va">sharpe_ratio</span></span>
<span><span class="va">volatility</span> <span class="op">&lt;-</span> <span class="va">result</span><span class="op">$</span><span class="va">volatility</span></span>
<span><span class="va">max_drawdown</span> <span class="op">&lt;-</span> <span class="va">result</span><span class="op">$</span><span class="va">max_drawdown</span></span></code></pre>
</div>
</div>
<div class="section level1">
<h1 id="outputs">Outputs<a class="anchor" aria-label="anchor" href="#outputs"></a>
</h1>
<div class="section level3">
<h3 id="turnover-mean">1. <em>Turnover Mean</em><a class="anchor" aria-label="anchor" href="#turnover-mean"></a>
</h3>
<p><img src="images/turnover_mean.png" width="686" height="68"></p>
<ul>
<li><p>This measures the average portfolio turnover, which relates to
trading frequency and transaction costs.</p></li>
<li><p>REN’s turnover is moderate, suggesting it strikes a balance
between performance and transaction costs.</p></li>
<li><p>MV has a very high turnover of 311.34, indicating frequent
rebalancing, which might lead to higher transaction costs.</p></li>
<li><p>The EW method has the lowest turnover, almost negligible, which
might reflect a more static portfolio.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="sharpe-ratio">2.<em>Sharpe Ratio</em><a class="anchor" aria-label="anchor" href="#sharpe-ratio"></a>
</h3>
<p><img src="images/sharp_ratio.png" width="697"></p>
<ul>
<li><p>The Sharpe Ratio measures risk-adjusted returns, with higher
values indicating better risk-adjusted performance.</p></li>
<li><p>Most methods have Sharpe ratios between 0.5 and 1.03.</p></li>
<li><p>REN has a Sharpe ratio of approximately 1.03, indicating good
risk-adjusted returns relative to others.</p></li>
<li><p>JM and TZ also have competitive Sharpe ratios above 1.0, while EW
shows a significantly lower Sharpe ratio of around 0.52, indicating poor
risk-adjusted performance.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="volatility">3. <em>Volatility</em><a class="anchor" aria-label="anchor" href="#volatility"></a>
</h3>
<p><img src="images/volatility.png" width="696" height="28"></p>
<ul>
<li><p>This measures the standard deviation of returns, indicating the
level of risk.</p></li>
<li><p>Volatility values range from 13.1 to 21.8, with REN showing a
volatility around 13.6, placing it in the lower-risk group.</p></li>
<li><p>TZ exhibits the highest volatility, around 21.85, suggesting it
carries the most risk.</p></li>
<li><p>Methods like MV and JM are slightly more volatile compared to REN
but still remain relatively stable.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="maximum-drawdown">4. <em>Maximum Drawdown</em><a class="anchor" aria-label="anchor" href="#maximum-drawdown"></a>
</h3>
<p><img src="images/max_drawdown.png" width="688" height="29"></p>
<ul>
<li><p>Maximum drawdown measures the largest peak-to-trough decline of
the portfolio.</p></li>
<li><p>Most methods have a high maximum drawdown percentage, with values
ranging from around 91% to 96%.</p></li>
<li><p>REN (likely 96.02223) seems to have a moderate drawdown compared
to others, suggesting a reasonable risk profile.</p></li>
<li><p>Methods like JM show relatively better performance in terms of
drawdown, with a value around 91%.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="cumulative-returns-plot">1. <em>Cumulative Returns Plot</em><a class="anchor" aria-label="anchor" href="#cumulative-returns-plot"></a>
</h3>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">cumulative_return_plot</span><span class="op">)</span></span></code></pre>
<p><img src="images/cumulative_returns.png" width="484"></p>
<ul>
<li><p>This plot compares the cumulative returns over time for various
portfolio optimization methods (MV, FZY, REN, VW, JM, EW, TZ,
NA).</p></li>
<li><p>The REN method (in black) performs well and closely follows the
top-performing method.</p></li>
<li><p>MV (in red) has high cumulative returns but exhibits higher
volatility compared to others.</p></li>
<li><p>The green line (VW) has the lowest cumulative return, indicating
this method underperforms relative to others.</p></li>
<li><p>REN’s performance is steady and competitive with FZY, showing it
is a reliable strategy for portfolio returns.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="cumulative-turnover-plot">2. <em>Cumulative Turnover Plot</em><a class="anchor" aria-label="anchor" href="#cumulative-turnover-plot"></a>
</h3>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">turnover_plot</span><span class="op">)</span></span></code></pre>
<p><img src="images/turnover.png" width="503"></p>
<ul>
<li><p>This plot shows the cumulative turnover over time, tracking how
often portfolios are rebalanced.</p></li>
<li><p>MV’s line (in red) shows consistently high cumulative turnover,
confirming frequent rebalancing.</p></li>
<li><p>REN has moderate cumulative turnover, performing similarly to FZY
and NA.</p></li>
<li><p>VW again shows minimal turnover, reinforcing its more static
nature.</p></li>
<li><p>A lower turnover might suggest lower trading costs, but it can
also limit responsiveness to market changes.</p></li>
</ul>
<div class="section level4">
<h4 id="once-youre-done-with-the-parallel-computation-remember-to-stop-the-cluster-to-free-up-resources">Once you’re done with the parallel computation, remember to stop the
cluster to free up resources:<a class="anchor" aria-label="anchor" href="#once-youre-done-with-the-parallel-computation-remember-to-stop-the-cluster-to-free-up-resources"></a>
</h4>
</div>
</div>
</div>
<div class="section level1">
<h1 id="stop-the-parallel-cluster">Stop the parallel cluster<a class="anchor" aria-label="anchor" href="#stop-the-parallel-cluster"></a>
</h1>
<pre><code><span><span class="fu">stopCluster</span><span class="op">(</span><span class="va">cl</span><span class="op">)</span></span></code></pre>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>The ‘REN’ package provides a comprehensive set of tools for robust
portfolio optimization using regularization and ensemble learning
methods. By following the steps outlined in this vignette, you can
effectively set up your environment, prepare your data, and perform
in-depth portfolio analysis.</p>
<p>For further information, please refer to the package documentation or
explore the examples provided in this vignette.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Hardik Dixit, Shijia Wang, Bonsoo Koo, Cash Looi, Hong
Wang.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.1.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
